var controlBarModule=angular.module("controlBarModule",[]).controller("ControlBarController",["$scope","MapService","$timeout","ControlBarService","RoomSearchService",function(o,t,i,n){o.init=function(){o.initializing=!0,o.data={},o.data.room={},o.data.floor=0},o.toggleSideMenu=function(){n.toggleSideMenu()},o.closeSideMenu=function(){n.closeSideMenu()},o.startPositioning=function(){t.showMyPosition(),o.data.isPositioningMode=!0},o.stopPositioning=function(){o.data.isPositioningMode=!1},o.startRouting=function(){console.log("pressed start route buttn");var o=0,i=0;t.findRoute(o,i)},o.setFloor=function(t){o.data.floor=t},o.$watch("data.floor",function(){o.initializing?i(function(){o.initializing=!1}):t.switchFloor(o.data.floor)}),o.$on("roomFindingModeStarted",function(){console.log("GO FIND ROOM"),o.data.room=n.room,o.data.roomFindMode=!0}),o.$on("roomFindingModeCanceled",function(){o.data.room=null,o.data.roomFindMode=!1}),o.$on("mapIsInitialized",function(){o.data.floor=t.currentFloor}),o.$on("deactivatePositioningButton",function(){o.stopPositioning()}),o.init()}]).service("ControlBarService",["$rootScope",function(o){this.startRoomFindingMode=function(t){this.room=t,o.$broadcast("roomFindingModeStarted")},this.cancelRoomFindingMode=function(){o.$broadcast("roomFindingModeCanceled")},this.toggleSideMenu=function(){this.showSideMenu=!this.showSideMenu,o.$broadcast("sideMenuChanged")},this.cliseSideMenu=function(){this.showSideMenu=!1,o.$broadcast("sideMenuChanged")},this.deactivatePositioningButton=function(){o.$broadcast("deactivatePositioningButton")}}]).directive("tmRoomDisplay",function(){return{restrict:"E",templateUrl:"build/templates/controlbar/templates/roomdisplay.template.html",link:function(){}}}).directive("tmFloorNavigation",function(){return{restrict:"E",templateUrl:"build/templates/controlbar/templates/floornavigation.template.html",link:function(){}}});