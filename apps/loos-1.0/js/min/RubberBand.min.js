!function(a){var i=function(i){var e=this;this.config={pull_text:"Pull to Refresh",load_text:"Loading..."},this.variables={callback:null,calling:!1,e_height:null,max_height:null,original_top:null,scrolling:null,closing:null,inplay:!1,$RBe:null,images:!0},this.init=function(i){$("#RubberBandjs").length||($("body").prepend($('<div id="RubberBandjs">').append($('<div class="rband">').append($('<h3 class="text">')))),e.variables.images=!1),e.variables.$RBe=$("#RubberBandjs"),e.variables.$RBe.find(".rband .text").html(e.config.pull_text),e.variables.callback=i,e.variables.e_height=parseFloat(e.variables.$RBe.css("top").replace(/px/,"")),e.variables.max_height=Math.abs(e.variables.e_height),e.variables.original_top=e.variables.e_height,$(a).scrollTop(3).on("scroll touchmove",e.RB)},this.RB=function(){if(e.variables.scrolling=a.clearTimeout(e.variables.scrolling),$(a).position()<=0){e.variables.inplay=!0;var i;e.variables.e_height<0?(i=e.variables.e_height>=-10?3:e.variables.e_height>=-20?4:e.variables.e_height>=-50?5:6,e.variables.e_height=e.variables.e_height+i,e.variables.$RBe.css("top",e.variables.e_height+"px"),$("body").css("padding-top",e.variables.max_height+e.variables.e_height+"px"),$(a).scrollTop(1)):e.variables.e_height>=0&&($(a).unbind("scroll"),e.variables.$RBe.css("top","0px"),$("body").css("padding-top",e.variables.max_height+"px"),e.variables.scrolling=a.clearTimeout(e.variables.scrolling),e.variables.$RBe.find(".rband .text").html(e.config.load_text),e.variables.images&&(e.variables.$RBe.find(".rband .load").show(),e.variables.$RBe.find(".rband .arrow").hide()),e.variables.callback?e.variables.calling||(e.variables.callback(e),e.variables.calling=!0):e.close())}!e.variables.closing&&e.variables.inplay&&e.variables.e_height<0&&(e.variables.scrolling=a.setTimeout(function(){e.close()},200))},this.close=function(){e.variables.$RBe.animate({top:e.variables.original_top},200),$("body").animate({paddingTop:0},200,function(){$(a).on("scroll touchmove",e.RB),e.variables.e_height=e.variables.original_top,e.variables.inplay=!1,e.variables.calling=!1,e.variables.closing=a.clearTimeout(e.variables.closing),e.variables.$RBe.find(".rband .text").html(e.config.pull_text),e.variables.images&&(e.variables.$RBe.find(".rband .load").hide(),e.variables.$RBe.find(".rband .arrow").show())})},this.init(i)};a.RubberBand=i}(window);