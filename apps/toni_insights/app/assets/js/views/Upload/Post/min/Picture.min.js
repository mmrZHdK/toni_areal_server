"use strict";var Backbone=require("backbone"),$=require("jquery"),template=require("../../../templates/Upload/Post/Picture.hbs");Backbone.$=$,module.exports=Backbone.View.extend({events:{"change .js-fileInput":"handleFile","click .js-fileChange":"invokeChooseButton"},initialize:function(e){this.delegate=e.delegate,this.render()},render:function(){return this.$el.html(template()),this},invokeChooseButton:function(){this.$(".js-fileInput").trigger("click")},handleFile:function(e){for(var t=e.target.files,i=this.$(".js-filePreview"),n=0;n<t.length;n++){var r=t[n],a=/image.*/;if(r.type.match(a)){this.$(".js-buttonText").html("Bild Ã¤ndern");var l=document.createElement("img");$(l).addClass("img-responsive js-fileChange"),l.file=r,i.find(".img-preview-container").html($(l));var s=new FileReader;s.onload=function(e){return function(t){e.src=t.target.result}}(l),s.readAsDataURL(r)}}}});