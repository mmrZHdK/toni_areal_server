"use strict";var Backbone=require("backbone"),_=require("underscore"),$=require("jquery"),Beacons=require("../../helpers/beacons"),StreamCollection=require("../../collections/StreamCollection"),StreamEntriesView=require("./Stream--Entries"),template=require("../../templates/Stream/Stream.hbs");Backbone.$=$,module.exports=Backbone.View.extend({initialize:function(){console.log("render::StreamView"),Beacons.startBeaconSearchStream(),this.updateBeaconsTimer=window.setInterval(_.bind(this.getBeaconData,this),3e3),this.streamCollection=new StreamCollection},render:function(){return this.$el.html(template()),this.streamEntriesView=new StreamEntriesView({el:this.$("#vStreamEntries")}),this},getBeaconData:function(){var e=["4.K20","4.K21","4.K22"];if(e.length>0){this.loadStreamEntries(e);var t=[];$.each(e,function(e,r){var i={name:r};t.push(i)}),this.streamEntriesView.render(e)}},loadStreamEntries:function(e){this.streamCollection.fetch({reset:!1,data:{query:e}})},stop:function(){}});